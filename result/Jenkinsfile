pipeline {
    agent any

    tools {
	  nodejs 'NodejJS 8.9.0'
	}
    stages {
        stage('build') {
            when{
                changeset "**/result/**"
            }
            steps {
                echo 'Compile result App'
				dir('result'){
				   sh 'npm install'
				}                
            }
        }
        stage('test') {
            when{
                changeset "**/result/**"
            }
            steps {
                echo 'Running Unit Test for Result App'
                dir('result'){
                  sh 'npm install'
                  sh 'npm test'
                }
            }
        }
        
    }
}
